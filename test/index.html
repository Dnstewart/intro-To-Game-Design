<!DOCTYPE html>
<html>

<head>
    <title>My first html</title>
    <link href="./style.css" rel="stylesheet">
</head>

<body>
    <canvas id="canv"></canvas>
    <script src="scripts.js"></script>
    <script src="time.js"></script>
    <script src="Component.js"></script>
    <script src="GameObject.js"></script>
    <script src="RectangleDrawComponent.js"></script>
    <script src="RectangleUpdateComponent.js"></script>
    <script src="RectangleGameObject.js"></script>
    <script src="keys.js"></script>
    <script src="PlayerGo.js"></script>
    <script src="PLayerUpdate.js"></script>
    <script src="PlayerDraw.js"></script>
    <script src="ProjGO.js"></script>
    <script src="ProjUpdate.js"></script>
    <script src="ProjDraw.js"></script>
    <script src="EnemyGO.js"></script>
    <script src="EnemyUpdate.js"></script>
    <script src="EnemyDraw.js"></script>

    <script>
        "use strict"
        let { canvas, ctx } = getCanvas();

        let gameObjects = [];
        let player = new PlayerGO(playerX,playerY,playerW,playerH,0,255,255);
        //let projectile = new ProjGO(100,100,playerW,playerH,255,0,0);

        // let startX = 100;
        // let startY = 400;
        // let offsetX = 50;
        // let width = 10;
        // let height = 50;
        // let max = 30;
        // let maxWidth = 400;

        //Define the model
    //   for (let i = 0; i < maxEnemys; i++) {
            
    //         let x = getRandomInt(5, window.innerWidth - (enemyW + 5));
    //         let y = enemyY;
    //         let r = 255;
    //         let g = 255;
    //         let b = 0;

        enemys.push(new EnemyGO(5, 0, enemyW, enemyH, 255, 255, 0));
    //     }

        function tick() {
            update()
            draw()
            Time.timePassed += Time.secondsBetweenFrame;
        }

        function update() {
            for (let rectangle of gameObjects) {
                rectangle.update();
            }
            player.update();
            for (let proj of projectiles) {
                proj.update();
            }
            for (let enemy of enemys) {
                enemy.update();
            }
        }

        function draw() {

            ctx.fillStyle = "black"
            ctx.fillRect(0, 0, ctx.canvas.width, ctx.canvas.height);
            for (let rectangle of gameObjects) {
                rectangle.draw(ctx);
            }
            player.draw();
            for (let proj of projectiles) {
                proj.draw();
            }
            for (let enemy of enemys) {
                enemy.draw();
            }
        }

        setInterval(tick, Time.millisecondsBetweenFrames)

    </script>
</body>

</html>